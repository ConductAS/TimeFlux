<h1>Entries for week <%= @date.cweek %></h1>
<p class="notice"><%= flash[:notice] %></p>
<% form_for @user, :url => { :controller => "time_entries", :action => "update" }, :builder => TimeEntriesFormBuilder do |user_form| -%>
	<%= hidden_field_tag "date", @date %>
	<table class="week_entries">
	<thead>
		<tr>
			<th>Activity</th>
			<th class="week_entries_hours">Mon</th>
			<th class="week_entries_hours">Tue</th>
			<th class="week_entries_hours">Wed</th>
			<th class="week_entries_hours">Thu</th>
			<th class="week_entries_hours">Fri</th>
			<th class="week_entries_hours">Sat</th>
			<th class="week_entries_hours">Sun</th>
		</tr>
	</thead>
	<tbody>
	<% @activities.each do |activity_name, time_entries| -%>
	<tr> 
		<td class="week_entries_activity"><%= activity_name %></td>
		<% time_entries.each do |te| -%>
			<% user_form.fields_for(:time_entries, te) do |time_entry_form| -%>
				<td><%= time_entry_form.lock_checking_text_field :hours, :size => 5 %></td>
			<% end -%>  	
		<% end -%>
	</tr>   	
	<% end -%>
	</tbody>
	</table>
	<p>
		<%= user_form.submit "Submit" %>
		<%= user_form.error_messages %>
	</p> 
<% end -%>
<p>
	<%= link_to "Back", {:controller => "time_entries", :action => "index", :date => @date} %>
</p>